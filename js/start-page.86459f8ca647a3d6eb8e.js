!function(){"use strict";var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?(localStorage.setItem(e,JSON.stringify(t)),e):JSON.parse(localStorage.getItem(e))||"day"};function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={value:"day"},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;return"CHANGE_THEME"===t.type?n(n({},e),{},{value:t.payload}):e};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.menuWidget=n,this.store=function(e){var t=e(c({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{type:"__INIT__"}),n=[];return{dispatchEvent:function(r){t=e(t,r),n.forEach((function(e){return e(t)}))},subscribe:function(e){n.push(e)},getState:function(){return t}}}(i,e("theme")),this.init()}var n,r;return n=t,r=[{key:"init",value:function(){var t=this;this.toggleButton=this.menuWidget.querySelector(".js-menu-widget__toggle"),this.toggleInput=this.toggleButton.querySelector(".js-toggle__input"),this.dayToggleTitle=this.toggleButton.querySelector(".js-toggle-title"),this.menuTextColor=this.menuWidget.querySelectorAll(".js-menu-widget__text");var n=this.menuWidget.querySelector(".js-menu-widget__logo");this.logo=n.querySelector(".js-logo"),this.logoTextColor=this.menuWidget.querySelectorAll(".js-logo__letter"),this.store.subscribe((function(n){e("theme",n.value),t.changeTheme(e("theme"))})),this.store.dispatchEvent({type:"INIT_APPLICATION"}),this.toggle()}},{key:"toggle",value:function(){this.toggleButton.addEventListener("change",this.handleToggleChange.bind(this))}},{key:"changeThemeColor",value:function(e){var t="day"===e?"#1F2041":"#66d2ea";this.menuTextColor.forEach((function(e){e.style.color="".concat(t)})),this.logoTextColor.forEach((function(e){e.setAttribute("fill","".concat(t))}))}},{key:"enableDaytime",value:function(){this.dayToggleTitle.textContent="День",this.dayToggleTitle.style.color="#c7c7d0",this.menuWidget.style.background="#fff",this.changeThemeColor("day")}},{key:"turnOnNightTime",value:function(){this.dayToggleTitle.textContent="Ночь",this.dayToggleTitle.style.color="#BC9CFF",this.menuWidget.style.background="#1D1E33",this.toggleInput.checked=!0,this.changeThemeColor("night")}},{key:"changeTheme",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day";"day"===e?this.enableDaytime():this.turnOnNightTime()}},{key:"handleToggleChange",value:function(){var e="День"===this.dayToggleTitle.textContent?"night":"day";this.store.dispatchEvent({type:"CHANGE_THEME",payload:e})}}],r&&a(n.prototype,r),t}(),s=g,h=document.querySelector(".js-menu-widget");h&&new s(h)}();